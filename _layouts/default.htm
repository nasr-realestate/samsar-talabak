<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">

  <!-- ✅ هوية السوشيال ميديا -->
  <meta property="og:title" content="سمسار طلبك | عقارات مدينة نصر بين يديك">
  <meta property="og:description" content="شقق، محلات، مكاتب – كل ما تحتاجه في مكان واحد.">
  <meta property="og:image" content="https://i.postimg.cc/vZH0t24C/20250628-212125.webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://nasr-realestate.github.io/samsar-talabak">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="سمسار طلبك | عقارات مدينة نصر">
  <meta name="twitter:description" content="خدمات عقارية احترافية في قلب مدينة نصر">
  <meta name="twitter:image" content="https://i.postimg.cc/vZH0t24C/20250628-212125.webp">

  <!-- ✅ ملفات التصميم -->
  <link rel="stylesheet" href="/samsar-talabak/assets/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- ✅ ملف السيو من Jekyll -->
  {% seo %}
</head>

<body class="dark-mode">

  {% include navbar.html %}

  <main>
    {{ content }}
  </main>

  {% include footer.html %}

  <!-- ✅ JavaScript لتبديل الوضع -->
  <script>
    // إنشاء الزر وإضافته داخل الـ nav-bar
    const navBar = document.querySelector('.nav-bar');
    const toggleBtn = document.createElement('button');
    toggleBtn.innerText = '🌓 تبديل الوضع';
    toggleBtn.style.padding = '8px 16px';
    toggleBtn.style.marginRight = '10px';
    toggleBtn.style.borderRadius = '6px';
    toggleBtn.style.cursor = 'pointer';
    toggleBtn.style.fontWeight = 'bold';
    toggleBtn.style.background = '#04E762';
    toggleBtn.style.color = '#121212';
    toggleBtn.style.border = 'none';
    toggleBtn.style.transition = '0.3s';
    toggleBtn.addEventListener('mouseover', () => toggleBtn.style.opacity = '0.8');
    toggleBtn.addEventListener('mouseout', () => toggleBtn.style.opacity = '1');

    // أضف الزر بعد تأكد من وجود الـ navBar
    if (navBar) navBar.appendChild(toggleBtn);

    // التخزين المحلي + التبديل
    function applyTheme(theme) {
      document.body.className = theme;
      localStorage.setItem('theme', theme);
    }

    toggleBtn.onclick = () => {
      const newTheme = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';
      applyTheme(newTheme);
    }

    // تفعيل الوضع السابق من التخزين المحلي
    const savedTheme = localStorage.getItem('theme') || 'dark-mode';
    applyTheme(savedTheme);
  </script>
</body>
</html>
