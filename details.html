---
layout: default
title: "تفاصيل العقار"
description: "عرض تفاصيل العقار المختار من سمسار طلبك"
---

<main id="property-details" style="max-width: 800px; margin: 40px auto; padding: 20px; background: #1e1e1e; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-family: 'Tajawal', sans-serif; color: #f1f1f1;">
  <p style="text-align:center;">⏳ جاري تحميل بيانات العقار...</p>
</main>

<script>
document.addEventListener("DOMContentLoaded", async function () {
  const params = new URLSearchParams(window.location.search);
  const category = params.get("category");
  const file = params.get("file");
  const container = document.getElementById("property-details");

  if (!category || !file) {
    container.innerHTML = "❌ لم يتم تحديد العقار.";
    return;
  }

  try {
    const res = await fetch(`/samsar-talabak/data/properties/${category}/${file}`);
    const prop = await res.json();

    container.innerHTML = `
      <div>
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
          <img src="https://i.postimg.cc/Vk8Nn1xZ/me.jpg" alt="شعار" style="width: 40px; height: 40px; border-radius: 50%;">
          <strong style="color:#00ff88;">تفاصيل العرض</strong>
        </div>
        <h1 style="font-size: 1.6rem; color: #00ff88;">${prop.title}</h1>
        <p><strong>💰 السعر:</strong> ${prop.price || prop.price_monthly + " جنيه/شهر أو " + prop.price_daily + " جنيه/يوم"}</p>
        <p><strong>📏 المساحة:</strong> ${prop.area || 'غير محددة'}</p>
        <p><strong>📝 الوصف:</strong> ${prop.description}</p>
        <div style="margin-top: 1.5rem;">
          <a href="https://wa.me/${prop.whatsapp}?text=أريد الاستفسار عن ${encodeURIComponent(prop.title)}"
             target="_blank"
             style="background:#25D366; color:#000; padding: 0.6rem 1.2rem; border-radius: 8px; text-decoration: none; font-weight: bold;">
            💬 تواصل عبر واتساب
          </a>
          <a href="properties-filtered.html" 
             style="margin-right: 10px; background:#2c3e50; color:white; padding:0.6rem 1.2rem; border-radius:8px; text-decoration:none; font-weight:bold;">
            ← العودة للعقارات
          </a>
        </div>
      </div>
    `;
  } catch (err) {
    console.error("فشل في جلب بيانات العقار:", err);
    container.innerHTML = "❌ حدث خطأ أثناء تحميل بيانات العقار.";
  }
});
</script>
