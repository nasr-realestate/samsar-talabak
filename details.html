---
layout: default
title: تفاصيل العقار
description: صفحة تفاصيل لعقار معين بناءً على البيانات القادمة من JSON
---

<main class="property-details" style="max-width: 800px; margin: auto; padding: 2rem;">
  <div id="property-content">
    <p style="text-align: center;">جاري تحميل تفاصيل العقار...</p>
  </div>
</main>

<script>
  document.addEventListener("DOMContentLoaded", async function () {
    const params = new URLSearchParams(window.location.search);
    const category = params.get("category");
    const file = params.get("file");

    const container = document.getElementById("property-content");

    if (!category || !file) {
      container.innerHTML = "<p style='color:red; text-align:center;'>عذرًا، لم يتم تحديد العقار بشكل صحيح.</p>";
      return;
    }

    const jsonPath = `/samsar-talabak/data/properties/${category}/${file}`;

    try {
      const res = await fetch(jsonPath);
      if (!res.ok) throw new Error("فشل تحميل البيانات");
      const data = await res.json();

      container.innerHTML = `
        <h1 class="section-title">${data.title}</h1>
        <div class="price-tag" style="font-size: 1.8rem; color: #e74c3c; margin: 1rem 0;">${data.price}</div>
        <p><strong>المساحة:</strong> ${data.area}</p>
        <p><strong>الوصف:</strong> ${data.description}</p>

        <div style="margin-top: 2rem;">
          <a href="https://wa.me/201147758857?text=أريد الاستفسار عن: ${encodeURIComponent(data.title)}" 
             class="whatsapp-btn" target="_blank" 
             style="background:#25D366; color:white; padding: 1rem 2rem; border-radius: 8px; text-decoration: none;">
            استفسر عبر واتساب
          </a>
        </div>

        <div style="margin-top: 2rem;">
          <a href="/samsar-talabak/properties-filtered.html" class="back-btn" 
             style="display: inline-block; margin-top: 1rem; color: #2c3e50;">
            ← العودة للعقارات
          </a>
        </div>
      `;
    } catch (err) {
      container.innerHTML = "<p style='color:red; text-align:center;'>حدث خطأ أثناء تحميل البيانات.</p>";
      console.error(err);
    }
  });
      </script>
