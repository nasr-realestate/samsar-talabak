---
layout: default
title: تفاصيل العقار
permalink: /property-details/
---

<div class="property-details" style="max-width: 800px; margin: auto; padding: 2rem;">
  <div id="property-container">
    <p style="text-align:center;">جاري تحميل بيانات العقار...</p>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", async function () {
  const container = document.getElementById("property-container");

  const urlParams = new URLSearchParams(window.location.search);
  const category = urlParams.get("cat");
  const filename = urlParams.get("id");

  if (!category || !filename) {
    container.innerHTML = "<p style='text-align:center;'>رابط الصفحة غير مكتمل أو به خطأ.</p>";
    return;
  }

  const jsonURL = `/samsar-talabak/data/properties/${category}/${filename}`;

  try {
    const res = await fetch(jsonURL);
    if (!res.ok) throw new Error("فشل في تحميل بيانات العقار");

    const data = await res.json();

    container.innerHTML = `
      <div style="background:#fff; padding:2rem; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
        <h1 style="color:#2c3e50; margin-bottom:1rem;">${data.title}</h1>
        <p><strong>السعر:</strong> ${data.price}</p>
        <p><strong>المساحة:</strong> ${data.area}</p>
        <p><strong>الوصف:</strong> ${data.description}</p>

        <div style="margin-top: 2rem;">
          <a href="https://wa.me/201147758857?text=مرحبًا، أريد الاستفسار عن: ${encodeURIComponent(data.title)}"
            target="_blank"
            style="display:inline-block; background:#25D366; color:white; padding:0.7rem 1.5rem; border-radius:6px; text-decoration:none; font-weight:bold;">
            استفسر عبر واتساب
          </a>
        </div>

        <div style="margin-top: 2rem;">
          <a href="/samsar-talabak/properties-filtered.html"
            style="color: #3498db; font-weight: bold; text-decoration: none;">← العودة لصفحة العروض</a>
        </div>
      </div>
    `;
  } catch (error) {
    console.error(error);
    container.innerHTML = "<p style='text-align:center;'>حدث خطأ أثناء تحميل تفاصيل العقار.</p>";
  }
});
</script>
